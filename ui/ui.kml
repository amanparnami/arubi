<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2" xmlns:kml="http://www.opengis.net/kml/2.2" xmlns:atom="http://www.w3.org/2005/Atom">
    <Document>
        <!--
      		TODO updated by Aman on 2/20/13
      		- Make Placemark creation and deletion dynamic (hint: app.js)
        - Show and hide device placemark based on marker detected
      		- [fixed] Make Placemark interactive (hint: support touch)
      		- [fixed] Make device info boxes resize to fit the iPad screen
      		- [fixed][Bug] leftpanel, rightpanel not showing up
      		**[fixed] probably interaction w/ Input, Output buttons is not working
      		- [fixed][Bug] argon_channel_icon not appearing correctly
      		- Visualize a rule
      		- Connect input and output usng svg
      		** for now just tapping on output after input should be good
      		- Update rule information in database
      		** talk to PhP connection
        - [fixed] Change font size to be displayed properly on screen
        - Add range overlay for kinect
      		-->
        <Style id="undecorated_style"> 
            <BalloonStyle>
                <displayMode>undecorated</displayMode> <!-- no styling applied to balloon -->
            </BalloonStyle>
        </Style>

        <ScreenOverlay>
            <name>Overlay HTML</name>
            <description><![CDATA[
<meta name="format-detection" content="telephone=no"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"> 
<meta name="apple-mobile-web-app-capable" content="yes"> 
<meta name="apple-mobile-web-app-status-bar-style" content="black"> 

<script type="text/javascript"> 

    var script = document.createElement('script'); 
    script.src = 'js/loader.js'; 
    script.type = 'text/javascript'; 
    script.onload = function(){ar_init();};
    document.body.appendChild(script);  
                
</script>

<div class="container" style=" height: 100%; width:100%; text-align: center;">
    <div id="leftpanel" class="panel input" style="">
        <div class="inner panel" ></div>
        <div class="outer panel" >
            <figure class="feature" id="feature_id_1">
                <img src="img/voice.svg">
                <figcaption>Speech</figcaption>
            </figure>
            <figure class="feature" id="feature_id_2">
                <img src="img/hand.svg">
                <figcaption>Gesture</figcaption>
            </figure>
        </div>
    </div>
    <div id="devicepanel" class="panel" style="width:17%; margin:0 auto;">

    </div>
    <div id="rightpanel" class="panel output" style="">

        <div class="outer panel" >
            <figure class="feature" id="feature_id_3">
                <img src="img/light.svg">
                <figcaption>Light</figcaption>
            </figure>
            <figure class="feature" id="feature_id_4">
                <img src="img/project.svg">
                <figcaption>Project</figcaption>
            </figure>
        </div>
        <div class="inner panel" ></div>
    </div>
</div>
								]]>
            </description>
            <screenXY x="0.0" y="100" xunits="fraction" yunits="pixels"/>
            <styleUrl>#undecorated_style</styleUrl>
        </ScreenOverlay>
   
        <Placemark id="tracker_kinect_one">
            <name>Kinect1</name>
            <description><![CDATA[
                        <script language="text/javascript">
                        function handleVisibleChange() {
                            var placemark = KHARMA.getKMLElementById('tracker_kinect_one');
                            //if (placemark.visibility == true) alert("true");
                            var tracker = placemark.geometry[0];
                            placemark.visibility = tracker.visible;
                            placemark.render();
                            //console.log("Set placemark visibility to:" + placemark.visibility);
                        }
                        
                        function tracker_kinect_one_init() {
                            //alert("detected");
                            //$(document).bind('trackerChanged',function(event) {handleVisibleChange()});
                            //console.log('tracker_framesimple initialized');
                            window.setInterval(handleVisibleChange, 3000);
                        }
                        </script>


                        ]]>
            </description>
            <balloonVisibility>1</balloonVisibility>
            <Tracker>
                <device>#framesimpleid</device>
                <options>
                    <markerId>100</markerId>
                    <width>0.02</width>
                </options>
                <locationMode>relative</locationMode>
                <orientationMode>relative</orientationMode>
                <scale>
                    <x>0.022</x>
                    <y>0.022</y>
                    <z>0.022</z>
                </scale>
            </Tracker>
            <styleUrl>#undecorated_style</styleUrl>
        </Placemark>

        <Placemark id="tracker_0">
            <name>Tracker Frame SimpleId Example</name>
            <description><![CDATA[
        <script language="text/javascript">
            function doTrackerAtIndex0(){
                
            var placemark = KHARMA.getKMLElementById('tracker_0');
            var tracker = placemark.geometry[0];
            if(placemark.visibility == true) $("#device_id_0").show();
            else $("#device_id_0").hide();
            placemark.visibility = tracker.visible;
            placemark.render();
            }
                
            function tracker_0_init(){
                window.setInterval(doTrackerAtIndex0, 1000);
            }
        </script>
            <div style="position: absolute; width: 100px; height: 100px; left: -50px; top: -50px"><img width="100px" height="100px" src="img/placeholder_100X100.png"/></div>
            ]]>
            </description>
            <balloonVisibility>1</balloonVisibility>
            <Tracker>
                <device>#framesimpleid</device>
                <options>
                    <markerId>0</markerId> <!-- integer value (-1 means follow any marker of marker) -->
                    <width>0.07</width> <!-- width of marker in meters -->
                </options>
                <locationMode>relative</locationMode> <!-- default (ignore), relative (update location) -->
                <orientationMode>relative</orientationMode> <!-- default (ignore), relative (update orientation) -->
                <scale>
                    <x>0.07</x> <!-- test marker is 0.07 meters -->
                    <y>0.07</y>
                    <z>0.07</z>
                </scale>
            </Tracker>
            <styleUrl>#undecorated_style</styleUrl>
        </Placemark>
        
                <Placemark id="tracker_1">
            <name>Tracker Frame SimpleId Example</name>
            <description><![CDATA[
        <script language="text/javascript">
            function doTrackerAtIndex1(){
                
            var placemark = KHARMA.getKMLElementById('tracker_1');
            var tracker = placemark.geometry[0];
            if(placemark.visibility == true) $("#device_id_1").show();
            else $("#device_id_1").hide();
            placemark.visibility = tracker.visible;
            placemark.render();
            }
                
            function tracker_1_init(){
                window.setInterval(doTrackerAtIndex1, 1000);
            }
        </script>
            <div style="position: absolute; width: 100px; height: 100px; left: -50px; top: -50px"><img width="100px" height="100px" src="img/placeholder_100X100.png"/></div>
            ]]>
            </description>
            <balloonVisibility>1</balloonVisibility>
            <Tracker>
                <device>#framesimpleid</device>
                <options>
                    <markerId>1</markerId> <!-- integer value (-1 means follow any marker of marker) -->
                    <width>0.07</width> <!-- width of marker in meters -->
                </options>
                <locationMode>relative</locationMode> <!-- default (ignore), relative (update location) -->
                <orientationMode>relative</orientationMode> <!-- default (ignore), relative (update orientation) -->
                <scale>
                    <x>0.07</x> <!-- test marker is 0.07 meters -->
                    <y>0.07</y>
                    <z>0.07</z>
                </scale>
            </Tracker>
            <styleUrl>#undecorated_style</styleUrl>
        </Placemark>
        
                <Placemark id="tracker_2">
            <name>Tracker Frame SimpleId Example</name>
            <description><![CDATA[
        <script language="text/javascript">
            function doTrackerAtIndex2(){
                
            var placemark = KHARMA.getKMLElementById('tracker_2');
            var tracker = placemark.geometry[0];
            if(placemark.visibility == true) $("#device_id_2").show();
            else $("#device_id_2").hide();
            placemark.visibility = tracker.visible;
            placemark.render();
            }
                
            function tracker_2_init(){
                window.setInterval(doTrackerAtIndex2, 1000);
            }
        </script>
            <div style="position: absolute; width: 100px; height: 100px; left: -50px; top: -50px"><img width="100px" height="100px" src="img/placeholder_100X100.png"/></div>
            ]]>
            </description>
            <balloonVisibility>1</balloonVisibility>
            <Tracker>
                <device>#framesimpleid</device>
                <options>
                    <markerId>2</markerId> <!-- integer value (-1 means follow any marker of marker) -->
                    <width>0.07</width> <!-- width of marker in meters -->
                </options>
                <locationMode>relative</locationMode> <!-- default (ignore), relative (update location) -->
                <orientationMode>relative</orientationMode> <!-- default (ignore), relative (update orientation) -->
                <scale>
                    <x>0.07</x> <!-- test marker is 0.07 meters -->
                    <y>0.07</y>
                    <z>0.07</z>
                </scale>
            </Tracker>
            <styleUrl>#undecorated_style</styleUrl>
        </Placemark>
        
                <Placemark id="tracker_3">
            <name>Tracker Frame SimpleId Example</name>
            <description><![CDATA[
        <script language="text/javascript">
                
            function doTrackerAtIndex3(){
                
            var placemark = KHARMA.getKMLElementById('tracker_3');
            var tracker = placemark.geometry[0];
            if(placemark.visibility == true) $("#device_id_3").show();
            else $("#device_id_3").hide();
            placemark.visibility = tracker.visible;
            placemark.render();
            }
                
            function tracker_3_init(){
                window.setInterval(doTrackerAtIndex3, 1000);
            }
        </script>
            <div style="position: absolute; width: 100px; height: 100px; left: -50px; top: -50px"><img width="100px" height="100px" src="img/placeholder_100X100.png"/></div>
            ]]>
            </description>
            <balloonVisibility>1</balloonVisibility>
            <Tracker>
                <device>#framesimpleid</device>
                <options>
                    <markerId>3</markerId> <!-- integer value (-1 means follow any marker of marker) -->
                    <width>0.07</width> <!-- width of marker in meters -->
                </options>
                <locationMode>relative</locationMode> <!-- default (ignore), relative (update location) -->
                <orientationMode>relative</orientationMode> <!-- default (ignore), relative (update orientation) -->
                <scale>
                    <x>0.07</x> <!-- test marker is 0.07 meters -->
                    <y>0.07</y>
                    <z>0.07</z>
                </scale>
            </Tracker>
            <styleUrl>#undecorated_style</styleUrl>
        </Placemark>
        
                        <Placemark id="tracker_4">
            <name>Tracker Frame SimpleId Example</name>
            <description><![CDATA[
        <script language="text/javascript">
                
            function doTrackerAtIndex4(){
                
            var placemark = KHARMA.getKMLElementById('tracker_4');
            var tracker = placemark.geometry[0];
            if(placemark.visibility == true) $("#device_id_4").show();
            else $("#device_id_4").hide();
            placemark.visibility = tracker.visible;
            placemark.render();
            }
                
            function tracker_4_init(){
                window.setInterval(doTrackerAtIndex4, 1000);
            }
        </script>
            <div style="position: absolute; width: 100px; height: 100px; left: -50px; top: -50px"><img width="100px" height="100px" src="img/placeholder_100X100.png"/></div>
            ]]>
            </description>
            <balloonVisibility>1</balloonVisibility>
            <Tracker>
                <device>#framesimpleid</device>
                <options>
                    <markerId>4</markerId> <!-- integer value (-1 means follow any marker of marker) -->
                    <width>0.07</width> <!-- width of marker in meters -->
                </options>
                <locationMode>relative</locationMode> <!-- default (ignore), relative (update location) -->
                <orientationMode>relative</orientationMode> <!-- default (ignore), relative (update orientation) -->
                <scale>
                    <x>0.07</x> <!-- test marker is 0.07 meters -->
                    <y>0.07</y>
                    <z>0.07</z>
                </scale>
            </Tracker>
            <styleUrl>#undecorated_style</styleUrl>
        </Placemark>
        
        <Placemark id="tracker_framesimple">
            <name>Tracker Frame SimpleId Example</name>
            <description><![CDATA[
        <script language="text/javascript">
        function handleVisibleChange() {
            var placemark = KHARMA.getKMLElementById('tracker_framesimple');
            var tracker = placemark.geometry[0];
            if(placemark.visibility == true) $("#device_id_1").show();
            else $("#device_id_1").hide();
            placemark.visibility = tracker.visible;
            placemark.render();
        }
        
        function tracker_framesimple_init() {
            //$(document).bind('trackerChanged',function(event) {handleVisibleChange()});
            window.setInterval(handleVisibleChange, 1000);
            console.log('tracker_framesimple initialized');
        }
        </script>
            <div style="position: absolute; width: 100px; min-height: 100px; left: -50px; top: -50px background-color: #ffffff;"></div>
            ]]>
            </description>
            <balloonVisibility>1</balloonVisibility>
            <Tracker>
                <device>#framesimpleid</device>
                <options>
                    <markerId>12</markerId> <!-- integer value (-1 means follow any marker of marker) -->
                    <width>0.07</width> <!-- width of marker in meters -->
                </options>
                <locationMode>relative</locationMode> <!-- default (ignore), relative (update location) -->
                <orientationMode>relative</orientationMode> <!-- default (ignore), relative (update orientation) -->
                <scale>
                    <x>0.07</x> <!-- test marker is 0.07 meters -->
                    <y>0.07</y>
                    <z>0.07</z>
                </scale>
            </Tracker>
            <styleUrl>#undecorated_style</styleUrl>
        </Placemark>

    
        <!-- KML document description -->
        <name>Arubi.kml</name>
        <Snippet>Example of a placemark balloon description with CSS styling</Snippet>
        <description><![CDATA[
                    <p><b>Example of a placemark balloon description with CSS styling</b></p>
                    <p>
                    <b>notes:</b>
                    <ul>
                    <li> CSS can be used to set the description balloon styling
                    <li> setting displayMode to "undecorated" removes any default styling
                    <li> the styling should move content up and left for proper centering
                    <ul>
                    <li> default HTML styling flows to the right and down from the origin
                    <li> use CSS "left" and "top" attributes to shift "absolute" positioned elements
                    <li> child elements of absolute positioned elements do not respect "vertical-align"
                    <li> use the "top" attribute on a child element to set vertical alignment
                    </ul>
                    <li> all CSS in each channel shares the same namespace
                    <li> the placemark description balloon should appear to the west of the user 
                    </ul>
                    ]]>
        </description>          
        <styleUrl>#document_style</styleUrl>    
        <Style id="document_style">
            <IconStyle>
                <Icon>
                    <href>img/argon_channel_icon.png</href>
                </Icon>
            </IconStyle>
        </Style>
    </Document>        
</kml>
​
